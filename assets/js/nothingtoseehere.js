// ████████ ██    ██     ██████  ███████ ██    ██ ██████   █████  ██ ████████
//    ██    ██    ██     ██   ██ ██      ██    ██ ██   ██ ██   ██ ██    ██
//    ██    ██    ██     ██   ██ █████   ██    ██ ██████  ███████ ██    ██
//    ██    ██    ██     ██   ██ ██       ██  ██  ██   ██ ██   ██ ██    ██
//    ██     ██████      ██████  ███████   ████   ██   ██ ██   ██ ██    ██

// ██████   █████  ███████     ███████ ████████ ██████  ███████     ██       █████  ██
// ██   ██ ██   ██ ██          ██         ██    ██   ██ ██          ██      ██   ██ ██
// ██████  ███████ ███████     █████      ██    ██████  █████       ██      ███████ ██
// ██      ██   ██      ██     ██         ██    ██   ██ ██          ██      ██   ██
// ██      ██   ██ ███████     ███████    ██    ██   ██ ███████     ███████ ██   ██ ██

// ██████  ███████  ██████   █████  ██████  ██████  ███████      ██████ ███████
// ██   ██ ██      ██       ██   ██ ██   ██ ██   ██ ██          ██      ██
// ██████  █████   ██   ███ ███████ ██████  ██   ██ █████       ██      █████
// ██   ██ ██      ██    ██ ██   ██ ██   ██ ██   ██ ██          ██      ██
// ██   ██ ███████  ██████  ██   ██ ██   ██ ██████  ███████      ██████ ███████

// ██████  ███████ ███████ ███████ ██ ███    ██     ██████  ██      ██    ██ ████████  ██████  ████████
// ██   ██ ██      ██      ██      ██ ████   ██     ██   ██ ██      ██    ██    ██    ██    ██    ██
// ██   ██ █████   ███████ ███████ ██ ██ ██  ██     ██████  ██      ██    ██    ██    ██    ██    ██
// ██   ██ ██           ██      ██ ██ ██  ██ ██     ██      ██      ██    ██    ██    ██    ██    ██
// ██████  ███████ ███████ ███████ ██ ██   ████     ██      ███████  ██████     ██     ██████     ██

//                             ████
//                             ░░████████
//                           ░░▒▒████████▒▒
//                           ░░████████████▓▓▓▓
//                           ██████░░██████████████
//                           ██████░░░░██████████████          ░░████
//                         ▓▓██████▓▓▓▓██████████████▓▓▓▓▓▓▓▓░░▓▓████▓▓            ▓▓▓▓▓▓
//                         ████████████████████████████████████████████░░░░░░░░░░░░██████
//                         ██████████████████████████████████████████████████████████████
//                       ░░██████████████████████████████████████████████████████████████
//                     ▒▒██████████████████████████████████████████████████████░░▒▒████████
//                   ██████████████████████████████████████████████████████████░░░░████████
//                 ▒▒████████████████████████████████████████▒▒████████████████▒▒░░████████
//                 ░░░░░░████████████░░████████████████████░░  ██████████████████▓▓████████
//                     ▒▒██████████▒▒  ██████████████████▒▒    ████████████████████████████
//                   ▓▓██████████░░    ██████████░░░░████        ██████████████████████████
//               ░░▒▒████████████    ▒▒████████░░                ██████████████████████████
//                 ████████████░░    ██████░░░░                  ██████████████████████████
//               ▒▒██████████▒▒▒▒    ▒▒▒▒▒▒                      ██████████████████████████
//             ████████████████  ██                              ██████████████████████████
//             ██████████████      ██                  ████      ████████████████████████
//             ██░░██████████      ██                ██    ██      ██  ██████████████████
//             ░░  ██████░░██      ██              ▓▓        ▓▓    ░░  ██████████████████
//             ░░████████    ██  ██                ██        ██        ██████████████████
//             ▓▓████████    ░░▓▓░░                ██        ██        ░░██████████████░░
//             ██████████                            ██    ██            ██████████████
//           ████░░██████░░░░                          ████░░            ██████████████
//           ░░░░  ██████░░                            ░░░░            ▓▓██████████████
//                 ████                                ░░░░            ██████████████░░
//                 ████                ████                            ██████████████
//                 ████                                                ████████████░░
//                 ████                                                ██████████░░
//                 ░░██▒▒                                            ▒▒██████████
//                   ░░██                                            ██████████▒▒
//                       ██                                          ██████████
//                       ████                                      ██████████
//                     ▓▓    ██▓▓▓▓▓▓▓▓                    ▓▓▓▓▓▓▓▓████████  ██
//                   ██░░              ████████████████████          ██        ██
//                   ██░░░░            ░░██░░░░░░██░░░░░░░░          ░░        ██
//                   ██░░░░        ░░░░░░░░▓▓  ▓▓░░░░░░░░░░                    ██
//                   ██░░░░      ░░░░░░░░░░██  ██░░░░░░░░░░░░                  ██
//                   ██░░░░░░░░░░░░░░░░████▓▓▓▓▓▓██░░░░░░░░░░░░░░░░██░░    ░░░░██
//                     ██░░░░░░░░██████████▓▓▓▓▓▓████████████████░░██░░░░░░░░██
//                     ░░▓▓▓▓▓▓████████████▓▓▓▓▓▓████████████████▓▓░░░░░░░░▒▒░░
//                             ████████████▓▓▓▓▓▓██████████████████░░░░░░░░▒▒
//                             ████████████▓▓▓▓▓▓██████████████████░░░░██▓▓░░
//                     ██████  ██████████▓▓▓▓▓▓▓▓██████████████████████
//                   ██▓▓▓▓▓▓▓▓██████████▓▓▓▓▓▓▓▓████████████████████████████████████
//                   ██▓▓▓▓▓▓████████████▓▓▓▓▓▓▓▓██████████████████████████▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓
//                 ██▓▓▓▓▓▓▓▓████████████▓▓▓▓▓▓██████████████████████████████▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓██████
//                 ██▓▓▓▓▓▓██████████████▓▓▓▓▓▓████████████████████████████████▓▓▓▓▓▓▓▓▓▓▓▓▓▓██████░░
//               ████▓▓▓▓▓▓██████████████▓▓▓▓▓▓██████████████████████████████████▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▒▒
//               ██▓▓▓▓▓▓▓▓██████████████████████████████████████████████████████░░░░░░░░██▓▓▓▓▓▓▓▓▓▓▓▓▓▓
//             ██▓▓▓▓▓▓▓▓██        ██    ██    ██████████████████████████████████        ░░██▓▓▓▓▓▓▓▓▓▓██
//           ██▓▓▓▓▓▓▓▓▓▓██░░░░          ██        ████████████████████████████████          ██▓▓▓▓▓▓▓▓██
//           ██▓▓▓▓▓▓▓▓▓▓██░░░░        ████        ████████████████████████████████            ██▓▓▓▓▓▓▓▓██
//           ██▓▓▓▓▓▓▓▓▓▓██░░░░░░░░░░▒▒▒▒░░        ████████████████████████████████            ██▓▓▓▓▓▓▓▓██
//           ░░████████████▓▓░░░░░░░░██░░░░░░    ▓▓██████████████████████████████░░            ██▓▓▓▓▓▓▓▓██
//                           ██░░░░░░░░██░░░░░░░░██████████████████████████████              ██▓▓▓▓▓▓▓▓██
//                           ░░██████████░░░░░░░░██████████████████████████▒▒░░          ░░██▓▓▓▓▓▓▓▓▓▓██
//                             ░░░░░░    ▓▓▓▓▓▓▓▓░░██████████░░░░░░░░░░░░  ░░            ▓▓▓▓▓▓▓▓▓▓▓▓██░░
//                                                   ▓▓▓▓▓▓                              ██▓▓▓▓▓▓▓▓▓▓
//                                                                                       ▒▒██████▒▒
//   ░░░░    ░░░░  ░░      ░░░░                                                          ░░▓▓▓▓▓▓

// ██    ██  █████      ██████  ██ ███████ ███    ██      █████      ██    ██  ██████  ██ ██████      ██ ██ ██
//  ██  ██  ██   ██     ██   ██ ██ ██      ████   ██     ██   ██     ██    ██ ██    ██ ██ ██   ██     ██ ██ ██
//   ████   ███████     ██████  ██ █████   ██ ██  ██     ███████     ██    ██ ██    ██ ██ ██████      ██ ██ ██
//    ██    ██   ██     ██   ██ ██ ██      ██  ██ ██     ██   ██      ██  ██  ██    ██ ██ ██   ██
//    ██    ██   ██     ██   ██ ██ ███████ ██   ████     ██   ██       ████    ██████  ██ ██   ██     ██ ██ ██

// Patern des touches
var pattern = [
  "ArrowUp",
  "ArrowUp",
  "ArrowDown",
  "ArrowDown",
  "ArrowLeft",
  "ArrowRight",
  "ArrowLeft",
  "ArrowRight",
  "b",
  "a",
];
var current = 0;
var flagSecret = false;
var keyHandler = function (event) {
  // Vérifier l'ordre du patern
  if (pattern.indexOf(event.key) < 0 || event.key !== pattern[current]) {
    current = 0;
    return;
  }

  // Passer au paterne suivant
  current++;

  // Si paterne complété alor activer le "truc"
  if (pattern.length === current && flagSecret == false) {
    current = 0;
    activateCheats();
    flagSecret = true;
  }
};

document.addEventListener("keydown", keyHandler, false);

function activateCheats() {
  var audio = document.getElementsByTagName("audio")[0];
  audio.src = "assets/sound/supersecretsong.mp3";
  audio.play();
  audio.loop = true;
  document.querySelector("body").classList.add("SecretOn");
  setTimeout(() => {
    audio.pause();
    audio.src = "assets/sound/error.mp3";
    audio.play();
    audio.loop = false;
    document.querySelector("body").classList.remove("SecretOn");
    document.querySelector("body").classList.add("error");
    setTimeout(() => {
      audio.pause();
      audio.src = "assets/sound/bestsongintheworld.mp3";
      audio.play();
      audio.loop = false;
      setTimeout(() => {
        let errorVideo = document.getElementById("errorMessageVideo");
        errorVideo.currentTime = 0;
        audio.pause();
        errorVideo.style.display = "block";
        errorVideo.play();
        setTimeout(() => {
          audio.src = "assets/sound/error_sound.mp3";
          audio.play();
          errorVideo.style.display = "none";
          errorVideo.pause();
          document.querySelector("body").classList.remove("error");
          flagSecret = false;
        }, 8000);
      }, 10000);
    }, 10000);
  }, 7000);
}
